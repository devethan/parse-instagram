{"version":3,"sources":["App.module.scss","App.js","index.js"],"names":["module","exports","appRoot","app","userInfo","column","profileImage","name","items","item","content","image","box","accessToken","require","parsingSelfUrl","concat","parsingRecentUrl","App","state","selfData","postData","loading","react_default","a","createElement","className","styles","this","App_Content","data","_this2","ParseSelfInfo","then","setState","Object","objectSpread","ParseRecentPost","console","log","_this$state","meta","code","Component","Content","_ref","_ref$data","_selfData$data","full_name","username","bio","profile_picture","src","alt","map","post","App_Post","assign","key","id","Post","props","url","images","standard_resolution","caption","link","onClick","window","open","handleClick","text","_ref2","asyncToGenerator","regenerator_default","mark","_callee","wrap","_context","prev","next","fetchJsonp","response","json","catch","err","error","abrupt","sent","stop","apply","arguments","_ref3","_callee2","_context2","ReactDOM","render","src_App","document","getElementById"],"mappings":"2EACAA,EAAAC,QAAA,CAAkBC,QAAA,qBAAAC,IAAA,iBAAAC,SAAA,sBAAAC,OAAA,oBAAAC,aAAA,0BAAAC,KAAA,kBAAAC,MAAA,mBAAAC,KAAA,kBAAAC,QAAA,qBAAAC,MAAA,mBAAAC,IAAA,gWCGXC,EAAeC,EAAQ,IAAvBD,YACDE,EAAc,yDAAAC,OAA4DH,GAC1EI,EAAgB,sEAAAD,OAAyEH,GAEzFK,6MACJC,MAAQ,CACNC,SAAU,KACVC,SAAU,KACVC,SAAS,2EAGT,OACEC,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,IAAOzB,SACpB0B,KAAKT,MAAMG,SAAWC,EAAAC,EAAAC,cAAA,qCACrBG,KAAKT,MAAMG,SAAWC,EAAAC,EAAAC,cAACI,EAAD,CAASC,KAAMF,KAAKT,qDAK9B,IAAAY,EAAAH,KAClBI,IACCC,KAAK,SAAAb,GAEJW,EAAKG,SAALC,OAAAC,EAAA,EAAAD,CAAA,GACKJ,EAAKZ,MADV,CAEEC,gBAIJiB,IACCJ,KAAK,SAAAZ,GAEJU,EAAKG,SAALC,OAAAC,EAAA,EAAAD,CAAA,GACKJ,EAAKZ,MADV,CAEEE,cAEFiB,QAAQC,IAAIR,EAAKZ,sDAIA,IAAAqB,EACYZ,KAAKT,MAA5BC,EADWoB,EACXpB,SAAUC,EADCmB,EACDnB,SACbD,GAAYC,GAAYO,KAAKT,MAAMG,QACZ,MAAvBF,EAASqB,KAAKC,MAAuC,MAAvBrB,EAASoB,KAAKC,MAC7Cd,KAAKM,SAALC,OAAAC,EAAA,EAAAD,CAAA,GACKP,KAAKT,MADV,CAEEG,SAAS,KAIbgB,QAAQC,IAAI,oBA9CAI,aAmDZC,EAAU,SAAAC,GAAsC,IAAAC,EAAAD,EAAnCf,KAASV,EAA0B0B,EAA1B1B,SAAUC,EAAgByB,EAAhBzB,SACpCiB,QAAQC,IAAInB,EAAUC,GAD8B,IAAA0B,EAEU3B,EAAtDU,KAAOkB,EAFqCD,EAErCC,UAAWC,EAF0BF,EAE1BE,SAAUC,EAFgBH,EAEhBG,IAAKC,EAFWJ,EAEXI,gBACzC,OACE5B,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,IAAOxB,KACrBoB,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,IAAOvB,UACrBmB,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,IAAOtB,QACrBkB,EAAAC,EAAAC,cAAA,OAAK2B,IAAKD,EAAiBE,IAAKH,EAAKxB,UAAWC,IAAOrB,gBAEzDiB,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,IAAOtB,QACrBkB,EAAAC,EAAAC,cAAA,KAAGC,UAAWC,IAAOpB,MAAMgB,EAAAC,EAAAC,cAAA,wBAAqBF,EAAAC,EAAAC,cAAA,YAAOuB,IACvDzB,EAAAC,EAAAC,cAAA,KAAGC,UAAWC,IAAOpB,MAAMgB,EAAAC,EAAAC,cAAA,wBAAqBF,EAAAC,EAAAC,cAAA,YAAOwB,IACvD1B,EAAAC,EAAAC,cAAA,KAAGC,UAAWC,IAAOuB,KAAMA,KAG/B3B,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,IAAOnB,OACrBe,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,IAAOlB,MACpBY,EAASS,KAAKwB,IAAI,SAAAC,GAAI,OAAEhC,EAAAC,EAAAC,cAAC+B,EAADrB,OAAAsB,OAAA,GAAUF,EAAV,CAAgBG,IAAKH,EAAKI,YAOvDC,EAAO,SAAAC,GAAS,IACgBC,EAA4BD,EAAzDE,OAAQC,oBAAqBF,IAAOH,EAAqBE,EAArBF,GAAIM,EAAiBJ,EAAjBI,QAASC,EAAQL,EAARK,KAIxD,OACE3C,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,IAAOjB,SACrBa,EAAAC,EAAAC,cAAA,OAAK2B,IAAKU,EAAKT,IAAKM,EAAIjC,UAAWC,IAAOhB,MAAOwD,QAAS,kBAL1C,SAACD,GACnBE,OAAOC,KAAKH,GAIoDI,CAAYJ,MACzED,GACC1C,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,IAAOf,KACrBW,EAAAC,EAAAC,cAAA,QAAMC,UAAWC,IAAO4C,MAAON,EAAQM,SAO3ClC,EAAe,eAAAmC,EAAArC,OAAAsC,EAAA,EAAAtC,CAAAuC,EAAAlD,EAAAmD,KAAG,SAAAC,IAAA,OAAAF,EAAAlD,EAAAqD,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EACTC,IAAWhE,GACrBgB,KAAK,SAAAiD,GAAQ,OAAIA,EAASC,SAC1BC,MAAM,SAAAC,GAAG,OAAI/C,QAAQgD,MAAMD,KAHR,cAAAP,EAAAS,OAAA,SAAAT,EAAAU,MAAA,wBAAAV,EAAAW,SAAAb,EAAAhD,SAAH,yBAAA4C,EAAAkB,MAAA9D,KAAA+D,YAAA,GAMf3D,EAAa,eAAA4D,EAAAzD,OAAAsC,EAAA,EAAAtC,CAAAuC,EAAAlD,EAAAmD,KAAG,SAAAkB,IAAA,OAAAnB,EAAAlD,EAAAqD,KAAA,SAAAiB,GAAA,cAAAA,EAAAf,KAAAe,EAAAd,MAAA,cAAAc,EAAAd,KAAA,EACPC,IAAWlE,GACrBkB,KAAK,SAAAiD,GAAQ,OAAIA,EAASC,SAC1BC,MAAM,SAAAC,GAAG,OAAI/C,QAAQgD,MAAMD,KAHV,cAAAS,EAAAP,OAAA,SAAAO,EAAAN,MAAA,wBAAAM,EAAAL,SAAAI,EAAAjE,SAAH,yBAAAgE,EAAAF,MAAA9D,KAAA+D,YAAA,GAMJzE,IC3Gf6E,IAASC,OAAOzE,EAAAC,EAAAC,cAACwE,EAAD,MAASC,SAASC,eAAe","file":"static/js/main.9db9c76a.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"appRoot\":\"App_appRoot__1imhw\",\"app\":\"App_app__2Pj4W\",\"userInfo\":\"App_userInfo__3Wrhl\",\"column\":\"App_column__P7Rg7\",\"profileImage\":\"App_profileImage__2iXcw\",\"name\":\"App_name__2ISv5\",\"items\":\"App_items__1jjKN\",\"item\":\"App_item__2vRG2\",\"content\":\"App_content__2jvG6\",\"image\":\"App_image__23CoU\",\"box\":\"App_box__1wioH\"};","import React, { Component } from \"react\";\nimport styles from \"./App.module.scss\";\nimport fetchJsonp from \"fetch-jsonp\";\n\nconst {accessToken} = require('token.json');\nconst parsingSelfUrl = `https://api.instagram.com/v1/users/self/?access_token=${accessToken}`;\nconst parsingRecentUrl = `https://api.instagram.com/v1/users/self/media/recent/?access_token=${accessToken}`;\n\nclass App extends Component {\n  state = {\n    selfData: null,\n    postData: null,\n    loading: true\n  };\n  render() {\n    return (\n      <div className={styles.appRoot}>\n        {this.state.loading && <div>로딩 중..</div>}\n        {!this.state.loading && <Content data={this.state} />}\n      </div>\n    );\n  }\n\n  componentDidMount() {\n    ParseSelfInfo()\n    .then(selfData=>{\n      // console.log(selfData)\n      this.setState({\n        ...this.state,\n        selfData\n      })\n    })\n\n    ParseRecentPost()\n    .then(postData=>{\n      // console.log(postData)\n      this.setState({\n        ...this.state,\n        postData\n      })\n      console.log(this.state)\n    })\n  }\n\n  componentDidUpdate() {\n    const { selfData, postData } = this.state;\n    if ( selfData && postData && this.state.loading) {\n      if(selfData.meta.code === 200 && postData.meta.code === 200 ) {\n        this.setState({\n          ...this.state,\n          loading: false\n        })\n      }\n    } else {\n      console.log('not ready')\n    }\n  }\n}\n\nconst Content = ({ data : { selfData, postData }}) => {\n  console.log(selfData, postData)\n  const { data: {full_name, username, bio, profile_picture }} = selfData;\n  return (\n    <div className={styles.app}>\n      <div className={styles.userInfo}>\n        <div className={styles.column}>\n          <img src={profile_picture} alt={bio} className={styles.profileImage} />\n        </div>\n        <div className={styles.column}>\n          <p className={styles.name}><span>fullname</span><span>{full_name}</span></p>\n          <p className={styles.name}><span>username</span><span>{username}</span></p>\n          <p className={styles.bio}>{bio}</p>\n        </div>\n      </div>\n      <div className={styles.items}>\n        <div className={styles.item}>\n          {postData.data.map(post=><Post {...post} key={post.id}/>)}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst Post = props => {\n  const {images:{standard_resolution:{url}}, id, caption, link} = props;\n  const handleClick = (link) => {\n    window.open(link);\n  }\n  return (\n    <div className={styles.content}>\n      <img src={url} alt={id} className={styles.image} onClick={()=>handleClick(link)}/>\n      {caption &&\n        <div className={styles.box}>\n          <span className={styles.text}>{caption.text}</span>\n        </div>\n      }\n    </div>\n  );\n}\n\nconst ParseRecentPost = async () => {\n  return await fetchJsonp(parsingRecentUrl)\n    .then(response => response.json())\n    .catch(err => console.error(err));\n};\n\nconst ParseSelfInfo = async () => {\n  return await fetchJsonp(parsingSelfUrl)\n    .then(response => response.json())\n    .catch(err => console.error(err));\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}